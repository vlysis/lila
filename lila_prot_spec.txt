Lila — Android Prototype Specification
Platform: Android Framework: Flutter Primary Goal: Fast, humane logging of Mode × Orientation, with all data stored as Obsidian-compatible Markdown.

1. Scope of the Prototype (v0)
In-scope
One-tap logging flow (Mode + Orientation)
Daily log creation in Markdown
Local-first storage (no backend)
Simple daily view
Minimal reflection prompt
Explicitly out-of-scope
Sync
Accounts
AI generation
Analytics dashboards
Timers
Notifications
This prototype is about truthful capture, not insight depth.

2. Tech Stack
Core
Flutter

No databases
All persistent user data = .md files.

3. File System Layout (on device)
Root directory:

/Lila/
├── Daily/
│   └── 2026-02-02.md
├── Activities/
├── Weekly/
└── Meta/
Implementation:

const ROOT_DIR = FileSystem.documentDirectory + "Lila/";
On first launch:
Create folders if missing
Create Meta/modes.md if absent

4. Core Data Model (In-App)
Mode (enum-like, but string-based)

type Mode = "nourishment" | "growth" | "maintenance" | "drift";
Orientation

type Orientation = "self" | "mutual" | "other";
LogEntry (ephemeral)

interface LogEntry {
  label?: string;        // optional activity name
  mode: Mode;
  orientation: Orientation;
  timestamp: string;     // ISO
}
⚠️ LogEntry objects are never persisted directly They are immediately rendered into Markdown.

5. Markdown Format (Canonical)
Daily File: Daily/YYYY-MM-DD.md
If file doesn’t exist, create it with:

---
date: 2026-02-02
type: daily
---

## Entries
Appending an entry

- **Reading**  
  mode:: growth  
  orientation:: self  
  at:: 10:32
Rules:
Always append
Never rewrite past entries
No derived summaries stored

6. App Navigation Structure

AppRoot
├── HomeScreen
│   ├── TodaySummary
│   └── LogButton (+)
├── LogBottomSheet
├── DailyDetailScreen
└── SettingsScreen (minimal)
Use React Navigation (stack).

7. Home Screen
Purpose
Show today exists
Invite logging
Do not overwhelm
Components
Date header: “Today”
One-line whisper (optional)
Floating + button (primary affordance)
Whisper examples (hardcoded rules):
“First Nourishment logged today.”
“Mostly Other-directed so far.”
“Drift appeared late yesterday.”
No charts. No numbers.

8. Log Flow (Critical Path)
Entry point
Tap floating +
Open Bottom Sheet (70% height)

Step 1: Mode Selection (required)
Layout: 2×2 grid

const MODES = [
  { id: "nourishment", label: "Nourishment" },
  { id: "growth", label: "Growth" },
  { id: "maintenance", label: "Maintenance" },
  { id: "drift", label: "Drift" }
];
Behavior:
Single tap selects
Animate selection
Proceed immediately to orientation

Step 2: Orientation Selection (required)
Segmented control:

[ Self ]  [ Mutual ]  [ Other ]
Behavior:
Default = last used orientation
Single tap confirms

Step 3: Optional Label
Collapsed by default.
Placeholder: “What was it?”
Recent labels shown as chips
Voice input optional (later)
Skipping this still logs successfully.

Auto-save behavior
Once:
mode ✔
orientation ✔
→ Entry is written → Bottom sheet dismisses → Haptic tick
No Save button.

9. Writing to Markdown (Implementation Detail)
Pseudo-code:

async function appendEntry(entry: LogEntry) {
  const path = dailyFilePath(entry.timestamp);
  await ensureDailyFile(path);

  const markdown = formatEntry(entry);
  await FileSystem.writeAsStringAsync(
    path,
    markdown,
    { encoding: FileSystem.EncodingType.UTF8, append: true }
  );
}

10. Daily Detail Screen
Purpose
Let users see their life
Read-only for prototype
Render
Parse Markdown lightly (regex)
Render bullet list
Mode + Orientation badges (small, muted)
No editing yet.

11. Settings (Minimal)
Vault path (read-only for now)
Export instructions (“These files work in Obsidian”)
Reset vault (danger)
No preferences explosion.

12. Accessibility & UX Constraints
Minimum tap target: 48dp
Drift visually equal to other modes
No red/green success states
No productivity language
Dark mode default

13. Non-Goals (Important)
The prototype must not:
Score users
Predict behavior
Auto-classify orientation
Infer meaning without consent
Optimize time usage
Lila is a mirror, not a manager.

14. Milestone Checklist
MVP complete when:
App creates valid Markdown files
One-tap Mode + Orientation works in <1s
Files open cleanly in Obsidian
Drift feels safe to log
App usable offline, forever


